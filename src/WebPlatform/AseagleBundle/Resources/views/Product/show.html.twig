{% extends 'AseagleBundle::layout.html.twig' %}
{% block local_css %}
    <link rel="stylesheet" href="{{ asset('bundles/libs/css/product-detail.css') }}" />
    <link rel="stylesheet" href="{{ asset('bundles/libs/vendor/elevatezoom/jquery.fancybox.css') }}" />
{% endblock %}

{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="product-info thumbnail no-border">
                    <div class="trading-info table-div-full">
                        <div class="col-md-4">
                            <div id="show_gallery">
                                <img id="image_zoom" src="{{ product_info.pic[0].smallUrl }}" data-zoom-image="{{ product_info.pic[0].url }}"/>
                                <div id="gallery">
                                    {% for p in product_info.pic %}
                                        <a href="#" data-image="{{ p.smallUrl }}" data-zoom-image="{{ p.url }}">
                                            <img id="image_zoom" src="{{  p.thumbnailUrl }}" />
                                        </a>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                        <div class="col-md-5">
                            <div class="caption-full">
                                <h4><a href="#">{{ product_info.n }}</a>
                                </h4>
                                <table class="w100">
                                    <tr><td class="col-name lh20 w30">FOB Price:</td><td>{{ product_info.pr }}</td></tr>
                                    <tr><td class="col-name lh20">Min.Order Quantity:</td><td>{{ product_info.m_o }}</td></tr>
                                    <tr><td class="col-name lh20">Supply Ability:</td><td>{{ product_info.s_a }}</td></tr>
                                    <tr><td class="col-name lh20">Port:</td><td>{{ product_info.port }}</td></tr>
                                    <tr><td class="col-name lh20">Payment Terms:</td><td>{{ product_info.pay }}</td></tr>
                                    <tr><td class="col-name lh20">Place of Origin:</td><td>{{ product_info.pl }}</td></tr>
                                    <tr><td colspan="2">
                                            <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#request_quotation">Request Quotation</button>
                                            <button type="button" class="btn btn-default" data-toggle="modal" data-target="#contact_supplier">Contact Supplier</button>
                                    </td></tr>
                                </table>
                            </div>
                        </div>
                        <div class="col-md-3">
                            {% include 'AseagleBundle:Seller:_general_info.html.twig' %}
                        </div>
                    </div>

                    <ul class="nav nav-tabs">
                        <li class="active"><a data-toggle="tab" href="#product_specification">Product Specification</a></li>
                        <li><a data-toggle="tab" href="#company_profile">Company Profile</a></li>
                    </ul>

                    <div class="tab-content">
                        <div id="product_specification" class="tab-pane fade in active">
                            <div class="detail-info table-div-full">
                                <div class="mapping-info">
                                    <h4>Quick Details</h4>
                                    <div class="content">
                                    </div>
                                </div>
                                <div class="border-top">
                                    <h4>Packaging & Delivery</h4>
                                    <div>
                                        <p>{{ product_info.d_t | raw }}</p>
                                        <p>{{ product_info.p_d | raw }}</p>
                                    </div>
                                </div>
                                <div class="border-top">
                                    <h4>Specifications</h4>
                                    {{ product_info.spec | raw }}
                                </div>
                            </div>
                        </div>
                        <div id="company_profile" class="tab-pane fade">
                            {% include 'AseagleBundle:Seller:_show_form.html.twig' %}
                        </div>
                    </div>
                </div>

                <!--
                <div class="well">

                    <div class="text-right">
                        <a class="btn btn-success">Leave a Review</a>
                    </div>

                    <hr>

                    <div class="row">
                        <div class="col-md-12">
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star-empty"></span>
                            Anonymous
                            <span class="pull-right">10 days ago</span>
                            <p>This product was great in terms of quality. I would definitely buy another!</p>
                        </div>
                    </div>

                    <hr>

                    <div class="row">
                        <div class="col-md-12">
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star-empty"></span>
                            Anonymous
                            <span class="pull-right">12 days ago</span>
                            <p>I've alredy ordered another one!</p>
                        </div>
                    </div>

                    <hr>

                    <div class="row">
                        <div class="col-md-12">
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star-empty"></span>
                            Anonymous
                            <span class="pull-right">15 days ago</span>
                            <p>I've seen some better than this, but not at this price. I definitely recommend this item.</p>
                        </div>
                    </div>
                </div>
                -->
            </div>
        </div>
    </div>
    <div class="container">
        <hr>

        <!-- Footer -->
        <!--
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; Your Website 2014</p>
                </div>
            </div>
        </footer>
        -->
    </div>

    <div>
        {% include 'AseagleBundle:Purchase:_get_quotation.html.twig' %}
    </div>

    <div>
        {% include 'AseagleBundle:Purchase:_contact_supplier.html.twig' %}
    </div>

{% endblock %}

{% block local_footer_libs %}
    <script>
        var _json_product = $.parseJSON('{{ product_info.json | raw }}');
    </script>
    <script src="{{ asset('bundles/libs/js/product_detail/product_detail.js') }}"></script>
    <script src="{{ asset('bundles/libs/vendor/elevatezoom/jquery.elevateZoom-3.0.8.min.js') }}"></script>
    <script src="{{ asset('bundles/libs/vendor/elevatezoom/jquery.fancybox.js') }}"></script>
    <script src="{{ asset('bundles/libs/vendor/elevatezoom/jquery.fancybox.pack.js') }}"></script>
    <script>
        //initiate the plugin and pass the id of the div containing gallery images
        $("#image_zoom").elevateZoom({gallery:'gallery', cursor: 'pointer', galleryActiveClass: 'active', imageCrossfade: true, loadingIcon: 'http://www.elevateweb.co.uk/spinner.gif'});
        //pass the images to Fancybox
        $("#image_zoom").bind("click", function(e) {
            var ez = $('#image_zoom').data('elevateZoom');
            $.fancybox(ez.getGalleryList());
            return false;
        });
    </script>
{% endblock %}